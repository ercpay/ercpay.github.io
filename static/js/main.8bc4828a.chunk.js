(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t){e.exports={address:"0xa4f1032d9b1485b9384f7061d95c732edb9c1527",abi:[{constant:!0,inputs:[{name:"user",type:"address"}],name:"getCustomerLedgerLength",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"fee",type:"uint256"}],name:"setEscrowFee",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"TransactionLedger",outputs:[{name:"customer",type:"address"},{name:"merchant",type:"address"},{name:"escrowAgent",type:"address"},{name:"value",type:"uint256"},{name:"escrowFee",type:"uint256"},{name:"status",type:"uint8"},{name:"notes",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"EscrowFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"user",type:"address"}],name:"getEscrowLedgerLength",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"txid",type:"uint256"}],name:"getTransaction",outputs:[{name:"customer",type:"address"},{name:"merchant",type:"address"},{name:"escrow",type:"address"},{name:"escrowFee",type:"uint256"},{name:"value",type:"uint256"},{name:"status",type:"uint8"},{name:"notes",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"uint256"}],name:"EscrowLedger",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"id",type:"uint256"}],name:"releaseFunds",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isOwner",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"id",type:"uint256"}],name:"refundCustomer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"id",type:"uint256"}],name:"raiseDispute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"user",type:"address"}],name:"getMerchantLedgerLength",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"uint256"}],name:"CustomerLedger",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_merchant",type:"address"},{name:"_escrowAgent",type:"address"},{name:"_notes",type:"string"}],name:"createPayment",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"Funds",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"uint256"}],name:"MerchantLedger",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"customer",type:"address"},{indexed:!0,name:"merchant",type:"address"},{indexed:!0,name:"escrowAgent",type:"address"},{indexed:!1,name:"id",type:"uint256"},{indexed:!1,name:"value",type:"uint256"}],name:"PaymentCreation",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"customer",type:"address"},{indexed:!0,name:"merchant",type:"address"},{indexed:!0,name:"escrowAgent",type:"address"},{indexed:!1,name:"id",type:"uint256"},{indexed:!1,name:"value",type:"uint256"},{indexed:!1,name:"status",type:"uint8"}],name:"PaymentCompletion",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"customer",type:"address"},{indexed:!0,name:"merchant",type:"address"},{indexed:!0,name:"escrowAgent",type:"address"},{indexed:!1,name:"id",type:"uint256"},{indexed:!1,name:"value",type:"uint256"}],name:"PaymentDispute",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"user",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Withdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"}],escrowAddress:"0xa20b04647F5A0099E71Cf4AFE5c7eCFb2EA86f45",profile_abi:[{constant:!1,inputs:[{name:"_name",type:"string"},{name:"_info",type:"string"}],name:"SetProfile",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"user",type:"address"}],name:"getProfileLength",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"uint256"}],name:"ProfileDB",outputs:[{name:"name",type:"string"},{name:"info",type:"string"}],payable:!1,stateMutability:"view",type:"function"}],profile_address:"0xE54C0168D2e75c7F68fcf40b0aB5793115Dd2a92",page_size:5}},145:function(e,t){},147:function(e,t){},15:function(e,t,a){},175:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(75),l=a.n(s),c=(a(55),a(83),a(9)),i=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(7),m=a(26),u=a(2),d=a(3),h=a(5),p=a(4),E=a(6),f=(a(15),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={display:0},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=[];if("sent"===this.props.type)for(var a=0;a<this.props.customerLedger.length;a++){var n="/activity/transaction/buyer/".concat(this.props.customerLedger[a].id);t.push(r.a.createElement("tr",{key:this.props.customerLedger[a].id},r.a.createElement("td",null,this.props.customerLedger[a].id),r.a.createElement("td",null,r.a.createElement(o.b,{to:n},"Payment to ",this.props.customerLedger[a].sellerName),r.a.createElement("p",{className:"is-size-7"},this.props.customerLedger[a].seller),this.props.customerLedger[a].status),r.a.createElement("td",null,this.props.customerLedger[a].value," ETH")))}else for(var s=0;s<this.props.merchantLedger.length;s++){var l="/activity/transaction/seller/".concat(this.props.merchantLedger[s].id);t.push(r.a.createElement("tr",{key:this.props.merchantLedger[s].id},r.a.createElement("td",null,this.props.merchantLedger[s].id),r.a.createElement("td",null,r.a.createElement(o.b,{to:l},"Payment from ",this.props.merchantLedger[s].buyerName),r.a.createElement("p",{className:"is-size-7"},this.props.merchantLedger[s].buyer),this.props.merchantLedger[s].status),r.a.createElement("td",null,this.props.merchantLedger[s].value," ETH")))}return e="sent"===this.props.type?"Transaction History (Sent)":"Transaction History (Received)",r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("nav",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,e))))),r.a.createElement("br",null),r.a.createElement("table",{className:"table is-fullwidth is-hoverable is-striped"},r.a.createElement("thead",null,r.a.createElement("td",null,"Txid"),r.a.createElement("td",null,"Info"),r.a.createElement("td",null,"Amount")),r.a.createElement("tfoot",null),r.a.createElement("tbody",null,t)))}}]),t}(n.Component)),b=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={address:""},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(window.ethereum){var t=new i.a(window.ethereum);try{window.ethereum.enable().then(function(){e.setState({address:t.eth.accounts[0]}),setInterval(function(){t.eth.accounts[0]!==e.state.address&&window.location.reload()},100)})}catch(a){}}else window.location.href="/login"}},{key:"render",value:function(){var e="/profile/".concat(this.state.address);return r.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(o.b,{to:"/"},r.a.createElement("p",{className:"navbar-item"},"ERCPAY")),r.a.createElement("a",{role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}))),r.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement(o.b,{to:"/dashboard"},r.a.createElement("p",{className:"navbar-item"},"Dashboard")),r.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},r.a.createElement(o.b,{to:e},r.a.createElement("p",{className:"navbar-link"},"View Profile")),r.a.createElement("div",{className:"navbar-dropdown"},r.a.createElement(o.b,{to:"/activity/set_profile"},r.a.createElement("a",{className:"navbar-item"},"Update Profile")))),r.a.createElement(o.b,{to:"/activity/send_payment"},r.a.createElement("p",{className:"navbar-item"},"Send Payment"))),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement(v,{address:this.state.address})),r.a.createElement(o.b,{to:"/"},r.a.createElement("p",{className:"navbar-item"},"Logout")))))}}]),t}(n.Component),v=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar-item"},this.props.address)}}]),t}(n.Component),y=a(1),g=a.n(y),N=["Funds In Escrow","Funds Released","Refunded","Awaiting Resolution"],w=(new i.a(window.ethereum),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("button",null,this.props.text)}}]),t}(n.Component)),x={returnTxMap:function(e,t){return{id:parseInt(e),buyer:t[0],seller:t[1],escrow:t[2],fee:t[3]/Math.pow(10,18),value:t[4]/Math.pow(10,18),status:N[parseInt(t[5])],notes:t[6]}},sortTx:function(e){return e.sort(function(e,t){return e.id-t.id})},txTemplate:function(){return{id:"",buyer:"",seller:"",escrow:"",fee:"",value:"",status:"",notes:""}},status:function(){return N},statusButton:function(e,t,a){return r.a.createElement(w,{text:"aaa"})}},L=(n.Component,a(44)),O=a.n(L),j=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={address:"",balance:0,customerLedger:[],merchantLedger:[],customerLedgerLength:0,merchantLedgerLength:0,funds:0,profileName:"Loading...",profileInfo:"Loading...",customerLedgerName:[],merchantLedgerName:[],customerStart:0,merchantStart:0,customerEnd:0,merchantEnd:0,sentid:null,receiveid:null},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new URLSearchParams(window.location.search),a=t.get("sent"),n=t.get("receive");t.get("popup");if(console.log(a),this.setState({sentid:a,receiveid:n}),window.ethereum){var r=new i.a(window.ethereum);try{window.ethereum.enable().then(function(){var t=r.eth.contract(g.a.abi).at(g.a.address),s=r.eth.contract(g.a.profile_abi).at(g.a.profile_address);e.setState({address:r.eth.accounts[0],contract:t,profile_contract:s}),r.eth.getBalance(r.eth.accounts[0],function(t,a){e.setState({balance:r.fromWei(a,"ether").toNumber()})}),s.getProfileLength.call(r.eth.accounts[0],function(t,a){0!==parseInt(a)?s.ProfileDB.call(r.eth.accounts[0],a-1,function(t,a){e.setState({profileName:a[0],profileInfo:a[1]})}):e.setState({profileName:"Empty",profileInfo:""})}),t.EscrowFee.call(r.eth.accounts[0],function(t,a){e.setState({fee:a/10})}),t.Funds.call(r.eth.accounts[0],function(t,a){e.setState({funds:a/Math.pow(10,18)})}),e.state.contract.getCustomerLedgerLength.call(r.eth.accounts[0],function(t,n){var r;null!==a&&parseInt(a)<parseInt(n)?(console.log(a),e.setState({customerLedgerLength:parseInt(n),customerStart:parseInt(a)}),r=parseInt(a)):(e.setState({customerLedgerLength:parseInt(n),customerStart:parseInt(n)-1}),r=parseInt(n)-1),e.loadCustomerLedger(r)}),t.getMerchantLedgerLength.call(r.eth.accounts[0],function(t,a){null!==n&&parseInt(n)<parseInt(a)?e.setState({merchantLedgerLength:parseInt(a),merchantStart:parseInt(n)}):e.setState({merchantLedgerLength:parseInt(a),merchantStart:parseInt(a)-1}),e.loadMerchantLedger()}),setInterval(function(){r.eth.accounts[0]!==e.state.address&&(window.location.href="/dashboard")},100)})}catch(s){}}else window.location.href="/login"}},{key:"loadMerchantLedger",value:function(){var e=this,t=new i.a(window.ethereum);this.setState({merchantEnd:this.state.merchantStart+1-g.a.page_size<0?0:this.state.merchantStart+1-g.a.page_size}),this.setState({merchantLedger:[],merchantLedgerName:[]});for(var a=function(a){e.state.contract.MerchantLedger.call(t.eth.accounts[0],a,function(t,n){e.state.contract.getTransaction.call(n,function(t,n){var r=x.returnTxMap(a,n),s=e.state.merchantLedger;s.push(r),s.length===1+e.state.merchantStart-e.state.merchantEnd&&(e.setState({merchantLedger:s}),console.log("load name"+s.length),e.loadBuyerUserNames())})})},n=this.state.merchantStart;n>=this.state.merchantEnd;n--)a(n)}},{key:"loadCustomerLedger",value:function(e){var t=this,a=new i.a(window.ethereum);this.setState({customerEnd:e+1-g.a.page_size<0?0:this.state.customerStart+1-g.a.page_size});var n=e+1-g.a.page_size<0?0:this.state.customerStart+1-g.a.page_size;console.log(e),console.log(n),this.setState({customerLedger:[],customerLedgerName:[]});for(var r=function(r){t.state.contract.CustomerLedger.call(a.eth.accounts[0],r,function(a,s){t.state.contract.getTransaction.call(s,function(a,s){var l=x.returnTxMap(r,s),c=t.state.customerLedger;c.push(l),c.length===1+e-n&&(t.setState({customerLedger:c}),console.log("load name"+c.length),t.loadSellerUserNames())})})},s=e;s>=n;s--)r(s)}},{key:"loadBuyerUserNames222",value:function(){var e=this;console.log("tx len"+this.state.merchantLedger.length);for(var t=function(t){e.state.profile_contract.getProfileLength.call(e.state.merchantLedger[t].seller,function(a,n){if(0===parseInt(n)){e.state.merchantLedger[t].sellerName="";var r=e.state.merchantLedgerName.push(e.state.merchantLedger[t]);console.log(r)}else e.state.profile_contract.ProfileDB.call(e.state.merchantLedger[t].seller,n-1,function(a,n){e.state.merchantLedger[t].sellerName=n[0];var r=e.state.merchantLedgerName;if(r.push(e.state.merchantLedger[t]),e.setState({merchantLedgerName:r}),console.log("setname runs"),e.state.merchantLedgerName.length===e.state.merchantLedger.length){var s=O.a.sortBy(e.state.merchantLedgerName,"id").reverse();e.setState({merchantLedgerName:s})}})})},a=0;a<this.state.merchantLedger.length;a++)t(a)}},{key:"loadSellerUserNames",value:function(){var e=this;console.log("tx len"+this.state.customerLedger.length);for(var t=function(t){e.state.profile_contract.getProfileLength.call(e.state.customerLedger[t].seller,function(a,n){if(0===parseInt(n)){e.state.customerLedger[t].sellerName="";var r=e.state.customerLedgerName.push(e.state.customerLedger[t]);console.log(r)}else e.state.profile_contract.ProfileDB.call(e.state.customerLedger[t].seller,n-1,function(a,n){e.state.customerLedger[t].sellerName=n[0];var r=e.state.customerLedgerName;if(r.push(e.state.customerLedger[t]),e.setState({customerLedgerName:r}),console.log("setname runs"),e.state.customerLedgerName.length===e.state.customerLedger.length){var s=O.a.sortBy(e.state.customerLedgerName,"id").reverse();e.setState({customerLedgerName:s})}})})},a=0;a<this.state.customerLedger.length;a++)t(a)}},{key:"loadBuyerUserNames",value:function(){for(var e=this,t=function(t){e.state.profile_contract.getProfileLength.call(e.state.merchantLedger[t].buyer,function(a,n){if(0===parseInt(n)){e.state.merchantLedger[t].buyerName="";var r=e.state.merchantLedgerName.push(e.state.merchantLedger[t]);console.log(r)}else e.state.profile_contract.ProfileDB.call(e.state.merchantLedger[t].buyer,n-1,function(a,n){e.state.merchantLedger[t].buyerName=n[0];var r=e.state.merchantLedgerName;if(r.push(e.state.merchantLedger[t]),e.setState({merchantLedgerName:r}),e.state.merchantLedgerName.length===e.state.merchantLedger.length){var s=O.a.sortBy(e.state.merchantLedgerName,"id").reverse();e.setState({merchantLedgerName:s})}})})},a=0;a<this.state.merchantLedger.length;a++)t(a)}},{key:"render",value:function(){var e,t,a,n,s=this;e=this.state.customerStart-g.a.page_size<=0?this.state.customerStart:this.state.customerStart-g.a.page_size,t=this.state.customerStart+g.a.page_size>=this.state.customerLedgerLength?this.state.customerLedgerLength-1:this.state.customerStart+g.a.page_size,a=this.state.merchantStart-g.a.page_size<=0?this.state.merchantStart:this.state.merchantStart-g.a.page_size,n=this.state.merchantStart+g.a.page_size>=this.state.merchantLedgerLength?this.state.merchantLedgerLength-1:this.state.merchantStart+g.a.page_size;var l="/dashboard?sent=".concat(e,"&receive=").concat(this.state.merchantStart),c="/dashboard?sent=".concat(t,"&receive=").concat(this.state.merchantStart),i="/dashboard?receive=".concat(a,"&sent=").concat(this.state.customerStart),m="/dashboard?receive=".concat(n,"&sent=").concat(this.state.customerStart);return r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container",style:{width:960}},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-one-third"},r.a.createElement(S,{balance:this.state.balance}),r.a.createElement(C,{funds:this.state.funds,contract:this.state.contract,address:this.state.address}),r.a.createElement(k,{profileName:this.state.profileName,profileInfo:this.state.profileInfo,address:this.state.address}),r.a.createElement(P,{disabled:"Empty"===this.state.profileName})),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"box"},r.a.createElement(f,{customerLedger:this.state.customerLedgerName,merchantLedger:this.state.merchantLedgerName,type:"sent"}),r.a.createElement("br",null),r.a.createElement("nav",{className:"pagination is-centered is-small",role:"navigation","aria-label":"pagination"},r.a.createElement(o.b,{to:c,onClick:function(){setTimeout(function(){s.componentDidMount()},100)}},r.a.createElement("a",{className:"pagination-previous"},"Previous")),r.a.createElement(o.b,{to:l,onClick:function(){setTimeout(function(){s.componentDidMount()},100)}},r.a.createElement("a",{className:"button pagination-next"},"Next page")))),r.a.createElement("div",{className:"box"},r.a.createElement(f,{customerLedger:this.state.customerLedgerName,merchantLedger:this.state.merchantLedgerName,type:"received"}),r.a.createElement("br",null),r.a.createElement("nav",{className:"pagination is-centered is-small",role:"navigation","aria-label":"pagination"},r.a.createElement(o.b,{to:m,onClick:function(){setTimeout(function(){s.componentDidMount()},100)}},r.a.createElement("a",{className:"pagination-previous"},"Previous")),r.a.createElement(o.b,{to:i,onClick:function(){setTimeout(function(){s.componentDidMount()},100)}},r.a.createElement("a",{className:"pagination-next"},"Next page")))))))))}}]),t}(n.Component),k=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e="/profile/".concat(this.props.address);return r.a.createElement("div",{className:"box"},r.a.createElement("p",{className:"is-size-4 has-text-weight-semibold"},"Your Profile"),r.a.createElement("br",null),r.a.createElement("p",null,this.props.profileName),r.a.createElement("p",null,this.props.profileInfo),r.a.createElement("br",null),r.a.createElement("p",{className:"buttons is-centered"},r.a.createElement(o.b,{to:"/activity/set_profile"},r.a.createElement("p",{className:"button is-primary"},"Update Profile")),"\xa0",r.a.createElement(o.b,{to:e},r.a.createElement("p",{className:"button is-primary"},"View Profile"))))}}]),t}(n.Component),S=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"box"},r.a.createElement("p",{className:"is-size-4 has-text-weight-semibold"},"Address Balance"),r.a.createElement("br",null),r.a.createElement("p",{className:"is-size-3"},r.a.createElement("a",{className:"has-text-dark",href:"#",title:this.props.balance},+this.props.balance.toFixed(10))," ETH"),r.a.createElement("br",null))}}]),t}(n.Component),C=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"box"},r.a.createElement("p",{className:"is-size-4 has-text-weight-semibold"},"ERCPay Funds"),r.a.createElement("br",null),r.a.createElement("p",{className:"is-size-3"},r.a.createElement("a",{className:"has-text-dark",href:"#",title:this.props.funds},+this.props.funds.toFixed(10))," ETH"),r.a.createElement("br",null),r.a.createElement("a",{className:"button is-primary",onClick:function(){e.props.contract.withdraw.sendTransaction({from:e.props.address},function(e,t){})}},"Withdraw Funds"))}}]),t}(n.Component),P=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return!0===this.props.disabled?r.a.createElement("div",{className:"box"},r.a.createElement("p",{className:"is-size-4 has-text-weight-semibold"},"Payments"),r.a.createElement("br",null),r.a.createElement("p",null,"Send payment for goods or services with buyer protection."),r.a.createElement("br",null),r.a.createElement(o.b,{to:"/activity/send_payment"},r.a.createElement("button",{className:"button is-primary",disabled:!0},"Send Payment")),r.a.createElement("p",{className:"is-size-7"},"Please set your profile info to use ERCPay")):r.a.createElement("div",{className:"box"},r.a.createElement("p",{className:"is-size-4 has-text-weight-semibold"},"Payments"),r.a.createElement("br",null),r.a.createElement("p",null,"Send payment for goods or services with buyer protection."),r.a.createElement("br",null),r.a.createElement(o.b,{to:"/activity/send_payment"},r.a.createElement("p",{className:"button is-primary"},"Send Payment")))}}]),t}(n.Component),I=(n.Component,j),T=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleAddress=function(e){a.setState({address:e})},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(I,null))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={buyerName:"",sellerName:"",escrowName:"",tx:new x.txTemplate,txid:0,buyerTxCount:"",sellerTxCount:"",escrowTxCount:"",ledgerid:0},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(console.log(this.props.match.params.id),this.setState({txid:this.props.match.params.id,type:this.props.match.params.type}),window.ethereum){var t=new i.a(window.ethereum);try{window.ethereum.enable().then(function(){var a=t.eth.contract(g.a.abi).at(g.a.address),n=t.eth.contract(g.a.profile_abi).at(g.a.profile_address);e.setState({address:t.eth.accounts[0],contract:a,profile_contract:n}),console.log(t.eth.accounts[0]),console.log(e.props.match.params.id),a.CustomerLedger.call(t.eth.accounts[0],e.props.match.params.id,function(t,n){a.getTransaction.call(n,function(t,a){console.log(a);var r=x.returnTxMap(n,a);e.setState({tx:r,ledgerid:n}),console.log(r),e.loadProfileName("buyer",r.buyer),e.loadProfileName("seller",r.seller),e.loadProfileName("escrow",r.escrow),e.loadCount(r.buyer,r.seller,r.escrow)})}),setInterval(function(){t.eth.accounts[0]!==e.state.address&&window.location.reload()},100)})}catch(a){}}else window.location.href="/login"}},{key:"loadProfileName",value:function(e,t){var a=this;this.state.profile_contract.getProfileLength.call(t,function(n,r){0!==parseInt(r)&&a.state.profile_contract.ProfileDB.call(t,r-1,function(t,n){switch(e){case"buyer":a.setState({buyerName:n});break;case"seller":a.setState({sellerName:n});break;case"escrow":a.setState({escrowName:n})}})})}},{key:"loadCount",value:function(e,t,a){var n=this;this.state.contract.getCustomerLedgerLength.call(e,function(e,t){n.setState({buyerTxCount:parseInt(t)})}),this.state.contract.getMerchantLedgerLength.call(t,function(e,t){n.setState({sellerTxCount:parseInt(t)})}),this.state.contract.getEscrowLedgerLength.call(a,function(e,t){n.setState({escrowTxCount:parseInt(t)})})}},{key:"render",value:function(){var e;console.log(this.state.txid),e="buyer"===this.state.type?r.a.createElement(M,{contract:this.state.contract,address:this.state.address,ledgerid:this.state.ledgerid,tx:this.state.tx}):r.a.createElement(_,{contract:this.state.contract,address:this.state.address,ledgerid:this.state.ledgerid,tx:this.state.tx});var t="/profile/".concat(this.state.tx.buyer),a="/profile/".concat(this.state.tx.seller);return r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container",style:{width:790}},r.a.createElement("a",{className:"has-text-left",onClick:function(){return window.history.back()}},"\u2190 Back to Dashboard")),r.a.createElement("br",null),r.a.createElement("div",{className:"container box",style:{width:800}},r.a.createElement("nav",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"Transaction Details"))),r.a.createElement("div",{className:"level-right"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"Payment sent 20/2/2019 8.56pm")))),r.a.createElement("hr",null),r.a.createElement("p",{className:"has-text-centered is-size-3"},this.state.tx.value," ETH"),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column has-text-left"},r.a.createElement("b",null,"Payment from"),r.a.createElement("p",null,this.state.buyerName[0]),r.a.createElement("p",null,this.state.buyerTxCount," completed payments")),r.a.createElement("div",{className:"column is-narrow"},r.a.createElement("br",null),r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-arrow-right"}))),r.a.createElement("div",{className:"column has-text-right"},r.a.createElement("b",null,"Payment to"),r.a.createElement("p",null,this.state.sellerName[0]),r.a.createElement("p",null,this.state.sellerTxCount," completed transactions"))),r.a.createElement("div",{className:"has-text-centered"},r.a.createElement("b",null,"Escrowed By"),r.a.createElement("p",null,this.state.escrowName[0]),r.a.createElement("p",null,this.state.escrowTxCount," transactions escrowed")),r.a.createElement("br",null),r.a.createElement("div",{className:"buttons is-centered"},r.a.createElement(o.b,{to:t},r.a.createElement("p",{className:"button is-primary"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"far fa-user"})),r.a.createElement("span",null,"View Buyer Profile"))),"\xa0",r.a.createElement(o.b,{to:a},r.a.createElement("p",{className:"button is-primary"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"far fa-user"})),r.a.createElement("span",null,"View Seller Profile")))),r.a.createElement("hr",null),r.a.createElement("b",null,"Payment Details"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:150}},"Gross Amount"),r.a.createElement("td",null,this.state.tx.value," ETH")),r.a.createElement("tr",null,r.a.createElement("th",null,"Fee"),r.a.createElement("td",null,this.state.tx.fee," ETH")),r.a.createElement("tr",null,r.a.createElement("th",null,"Net amount"),r.a.createElement("td",null,this.state.tx.value-this.state.tx.fee," ETH")),r.a.createElement("tr",null,r.a.createElement("th",null,"Note from buyer"),r.a.createElement("td",null,this.state.tx.notes)))),r.a.createElement("hr",null),r.a.createElement("p",{className:"has-text-left"},"Transaction Status"),r.a.createElement("br",null),r.a.createElement("p",{className:"buttons is-centered"},r.a.createElement("button",{className:"button is-primary is-large"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-plane"})),r.a.createElement("span",null,this.state.tx.status))),r.a.createElement("hr",null),e)))}}]),t}(n.Component),_=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",{className:"has-text-left"},"Transaction Action"),r.a.createElement("br",null),r.a.createElement("p",{className:"buttons is-centered"},r.a.createElement(F,{contract:this.props.contract,address:this.props.address,txid:this.props.ledgerid,tx:this.props.tx}),r.a.createElement(D,{contract:this.props.contract,address:this.props.address,txid:this.props.ledgerid,tx:this.props.tx})))}}]),t}(n.Component),M=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",{className:"has-text-left"},"Transaction Action"),r.a.createElement("br",null),r.a.createElement("p",{className:"buttons is-centered"},r.a.createElement(B,{contract:this.props.contract,address:this.props.address,txid:this.props.ledgerid,tx:this.props.tx}),r.a.createElement(D,{contract:this.props.contract,address:this.props.address,txid:this.props.ledgerid,tx:this.props.tx})))}}]),t}(n.Component),B=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"releaseFunds",value:function(){var e=new i.a(window.ethereum).eth.contract(g.a.abi).at(g.a.address);console.log(this.props.txid),e.releaseFunds.sendTransaction(this.props.txid,{from:this.props.address},function(e,t){console.log(t)})}},{key:"render",value:function(){return this.props.tx.status===x.status()[0]||this.props.tx.status===x.status()[3]?r.a.createElement("button",{className:"button is-primary",onClick:this.releaseFunds.bind(this)},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-dollar-sign"})),r.a.createElement("span",null,"Release Funds")):r.a.createElement("button",{className:"button is-primary",disabled:!0},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-dollar-sign"})),r.a.createElement("span",null,"Release Funds"))}}]),t}(n.Component),F=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"refund",value:function(){var e=new i.a(window.ethereum).eth.contract(g.a.abi).at(g.a.address);console.log(this.props.txid),e.refundCustomer.sendTransaction(this.props.txid,{from:this.props.address},function(e,t){console.log(t)})}},{key:"render",value:function(){return this.props.tx.status===x.status()[0]||this.props.tx.status===x.status()[3]?r.a.createElement("a",{className:"button is-primary",onClick:this.refund.bind(this)},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-dollar-sign"})),r.a.createElement("span",null,"Refund Buyer")):r.a.createElement("a",{className:"button is-primary",disabled:!0},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-dollar-sign"})),r.a.createElement("span",null,"Refund Buyer"))}}]),t}(n.Component),D=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"raiseDispute",value:function(){var e=new i.a(window.ethereum).eth.contract(g.a.abi).at(g.a.address);console.log(this.props.txid),e.raiseDispute.sendTransaction(this.props.txid,{from:this.props.address},function(e,t){console.log(t)})}},{key:"render",value:function(){return this.props.tx.status===x.status()[0]||this.props.tx.status===x.status()[3]?r.a.createElement("a",{className:"button is-info",onClick:this.raiseDispute.bind(this)},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-phone"})),r.a.createElement("span",null,"Raise Dispute")):r.a.createElement("a",{className:"button is-info",disabled:!0},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-phone"})),r.a.createElement("span",null,"Raise Dispute"))}}]),t}(n.Component),z=(n.Component,function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"hero is-fullheight is-default is-bold"},r.a.createElement("div",{className:"hero-head"},r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("p",{className:"navbar-item"},"ERCPAY"),r.a.createElement("span",{className:"navbar-burger burger","data-target":"navbarMenu"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))),r.a.createElement("div",{id:"navbarMenu",className:"navbar-menu"},r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"tabs is-right"},r.a.createElement("ul",null,r.a.createElement("li",{className:"is-active"},r.a.createElement(o.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/info"},"Fees & Info")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/login"},"Login"))))))))),r.a.createElement(R,null),r.a.createElement(U,null),r.a.createElement(W,null),r.a.createElement(H,null),r.a.createElement(V,null),r.a.createElement(q,null),r.a.createElement(Y,null))}}]),t}(n.Component)),R=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("div",{className:"columns is-vcentered"},r.a.createElement("div",{className:"column is-5"},r.a.createElement("figure",{className:"image"},r.a.createElement("img",{src:"https://user-images.githubusercontent.com/24837709/57173766-65caff00-6e67-11e9-9060-52b7a65e5dce.jpg",alt:"Description"}))),r.a.createElement("div",{className:"column is-6 is-offset-1"},r.a.createElement("h1",{className:"subtitle is-3"},"Send and receive ETH ",r.a.createElement("br",null),"with escrow protection"),r.a.createElement("p",null,"Login using your Ethereum address with ",r.a.createElement("a",{href:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",target:"_blank"},"metamask"),".",r.a.createElement("br",null),"No signup required. "),r.a.createElement("br",null),r.a.createElement("p",{className:"has-text-centered"},r.a.createElement(o.b,{to:"/login"},r.a.createElement("p",{className:"button is-medium is-info is-outlined"},"Login")))))))}}]),t}(n.Component),H=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"content has-text-centered"},r.a.createElement("h1",null,"Benefits of ERCPay")),r.a.createElement("div",{className:"columns features"},r.a.createElement("div",{className:"column is-4"},r.a.createElement("div",{className:"card is-shady"},r.a.createElement("div",{className:"card-image has-text-centered"}),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("h4",null,"Secure Crypto Payments"),r.a.createElement("p",null,"Payment with crypto is safer than ever. Unlike normal crypto transactions, payments are held in escrow using an Ethereum smart contract.",r.a.createElement("br",null),r.a.createElement("br",null),"Funds from transactions are released by the buyer once product is received."))))),r.a.createElement("div",{className:"column is-4"},r.a.createElement("div",{className:"card is-shady"},r.a.createElement("div",{className:"card-image has-text-centered"}),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("h4",null,"1% transaction fee"),r.a.createElement("p",null,"We leverage the Ethereum Blockchain for our back-end systems. ",r.a.createElement("br",null),r.a.createElement("br",null),"Because we don't incur costs of inter-bank transfers and expensive datacenters, our fees are the industry's lowest, at just 1%.",r.a.createElement("br",null),r.a.createElement("br",null)))))),r.a.createElement("div",{className:"column is-4"},r.a.createElement("div",{className:"card is-shady"},r.a.createElement("div",{className:"card-image has-text-centered"}),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("h4",null,"Secure fund ownership"),r.a.createElement("p",null,"Your funds, even funds within the smart contract, can only be controlled with your Ethereum address.",r.a.createElement("br",null),r.a.createElement("br",null),"This means no entity can ever withhold your funds or freeze your account.",r.a.createElement("br",null),r.a.createElement("br",null))))))),r.a.createElement("br",null))}}]),t}(n.Component),U=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("div",{className:"columns is-vcentered is-centered"},r.a.createElement("div",{className:"column is-7"},r.a.createElement("h1",{className:"title is-3"},"About ERCPay"),r.a.createElement("h2",{className:"subtitle is-5"}),r.a.createElement("p",null,"ERCPay is the world's first payment processor built on Ethereum smart contracts. We leverage blockchain technology to offer the industry's lowest transaction fee and highest funds security.")))))}}]),t}(n.Component),W=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("div",{className:"columns is-vcentered is-centered"},r.a.createElement("div",{className:"column is-7"},r.a.createElement("h1",{className:"title is-2"},"Intuitive dashboard"),r.a.createElement("figure",{className:"image"},r.a.createElement("img",{src:"https://user-images.githubusercontent.com/24837709/56896130-87219900-6abd-11e9-87db-c79b5642e21b.png",alt:""})),r.a.createElement("br",null),r.a.createElement("p",null,"  ERCPay is designed to be simple and intuitive for users familar with traditional payment processors, such as Paypal and Stripe. Currently we support ETH payments, and stablecoin payments are coming soon.",r.a.createElement("br",null),r.a.createElement("br",null),"You can also test sending and receiving of payments on the Ropsten testnet."),r.a.createElement("br",null),r.a.createElement("p",{className:"buttons is-centered"},r.a.createElement(o.b,{to:"/login"},r.a.createElement("p",{className:"button is-info is-outlined"},"View Dashboard"))),r.a.createElement("p",{className:"is-size-7"},"Login with ",r.a.createElement("a",{href:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",target:"_blank"},"metamask")," to view the dashboard. No signup required.")))))}}]),t}(n.Component),Y=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"hero-body bg-lb"},r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("h1",{className:"title is-3"},"Contact Us"),r.a.createElement("p",null,"Feel free to reach out if you have any questions, feedback or suggestion. Reach us at: "),r.a.createElement("br",null),r.a.createElement("b",null,"Email"),r.a.createElement("br",null)," ercpayescrow@gmail.com",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Reddit"),r.a.createElement("br",null),"https://www.reddit.com/r/ERCPay",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Telegram"),r.a.createElement("br",null),"https://t.me/ercpay",r.a.createElement("br",null),r.a.createElement("br",null)))}}]),t}(n.Component),q=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("h1",{className:"title is-3"},"Developers Section"),r.a.createElement("p",null,"View our open sourced smart contracts and technical documents."),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("b",null,"ERCPay"),r.a.createElement("br",null),"Mainnet | ",r.a.createElement("a",{href:"https://ropsten.etherscan.io/address/0xa4f1032d9b1485b9384f7061d95c732edb9c1527",target:"_blank"},"Ropsten")),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("b",null,"ERCPay Profile"),r.a.createElement("br",null),"Mainnet | ",r.a.createElement("a",{href:"https://ropsten.etherscan.io/address/0xe54c0168d2e75c7f68fcf40b0ab5793115dd2a92",target:"_blank"},"Ropsten")),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("b",null,"Github"))))}}]),t}(n.Component),V=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"hero-body bg-lb"},r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("div",{className:"columns is-centered"},r.a.createElement("div",{className:"column is-7"},r.a.createElement("h1",{className:"title is-3"},"How ERCPay Works"),r.a.createElement("p",null,"Buyer first makes payment on ERCPay's platform, either by sending payment to an Ethereum address in the dashboard, or paying via a invoice link provided by seller.",r.a.createElement("br",null),r.a.createElement("br",null),"The payment is held in escrow in our Ethereum smart contract. When the seller fulfills his obligations, the buyer can release funds to the seller. The seller also has the ability to refund the buyer.",r.a.createElement("br",null),r.a.createElement("br",null),"If a dispute occurs, either party can contact us for dispute resolution. For further info on dispute resolution process, visit our ",r.a.createElement(o.b,{to:"/login"},"fees & info page"),"."))),r.a.createElement("img",{src:"https://user-images.githubusercontent.com/24837709/30773541-3d81c506-a0a5-11e7-9e4c-28e322cdc5b8.png",width:"800"}),r.a.createElement("br",null)))}}]),t}(n.Component),$=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("section",{class:"hero is-info"},r.a.createElement("div",{class:"hero-body"},r.a.createElement("div",{class:"container"},r.a.createElement("h1",{class:"title"},"Fees & Info"),r.a.createElement("h2",{class:"subtitle"},"How fees and escrow fund release works"))),r.a.createElement("div",{class:"tabs is-boxed is-centered main-menu",id:"nav"},r.a.createElement("ul",null,r.a.createElement("li",{"data-target":"pane-1",id:"1"},r.a.createElement(o.b,{to:"/"}," ",r.a.createElement("p",null,r.a.createElement("span",{class:"icon is-small"},r.a.createElement("i",{class:"fa fa-image"})),r.a.createElement("span",null,"Home")))),r.a.createElement("li",{"data-target":"pane-2",id:"2",class:"is-active"},r.a.createElement("a",null,r.a.createElement("span",{class:"icon is-small"},r.a.createElement("i",{class:"fab fa-empire"})),r.a.createElement("span",null,"Fees & Info")))))),r.a.createElement("div",{class:"content container",style:{width:800}},r.a.createElement("br",null),r.a.createElement("h1",null,"Seller Fees"),r.a.createElement("p",null,"Flat 1% fee for all transactions."),r.a.createElement("h1",null,"Buyer Fees"),r.a.createElement("p",null,"None. Gas fees from creating transactions on the blockchain only, usually less than 1 cent."),r.a.createElement("h1",null,"Escrow duration"),r.a.createElement("p",null,"Funds from buyer are held in escrow once transaction is created. Buyer should release funds after confirming receiving of working product."),r.a.createElement("h1",null),r.a.createElement("h1",null,"Dispute resolution"),r.a.createElement("p",null,"Buyers should raise a dispute if item has not arrived in 30 days, or did not arrive as described.",r.a.createElement("br",null),"Sellers should raise a dispute if buyer refuses to release funds after 30 days and the product is received."),r.a.createElement("br",null),"We will review evidence provided by both parties and get in touch. We may require proof of address before starting the dispute resolution process; it involves sending an empty message (or sending a 0 Ether transaction) to an address we specify.",r.a.createElement("h1",null,"Transaction process"),"For stronger protection against fradulent buyers and sellers, please involve ERCPAY in your conversations with the buyer or seller.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h4",null,"If you are communicating by email"),"CC ercpayescrow@gmail.com in all emails",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h4",null,"If you are communicating on Reddit"),"Create a group chat, and add ",r.a.createElement("a",{href:"https://www.reddit.com/user/Arrow222/",target:"_blank"},"/u/Arrow222"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h4",null,"If you are communicating on Telegram"),"Create a group chat, and @kayin1",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h4",null,"If you are communicating on other channels"),"If it has a group chat feature, let us know and we will create an account. Contact us at ercpayescrow@gmail.com",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"This allows us to get a full transcript of evidence and greatly accelerates the dispute resolution process.")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))}}]),t}(n.Component),G=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("section",{class:"hero is-info"},r.a.createElement("div",{class:"hero-body"},r.a.createElement("div",{class:"container"},r.a.createElement("h1",{class:"title"},"Fees & Info"),r.a.createElement("h2",{class:"subtitle"},"How fees and escrow fund release works"))),r.a.createElement("div",{class:"tabs is-boxed is-centered main-menu",id:"nav"},r.a.createElement("ul",null,r.a.createElement("li",{"data-target":"pane-1",id:"1"},r.a.createElement(o.b,{to:"/"}," ",r.a.createElement("p",null,r.a.createElement("span",{class:"icon is-small"},r.a.createElement("i",{class:"fa fa-image"})),r.a.createElement("span",null,"Home")))),r.a.createElement("li",{"data-target":"pane-2",id:"2",class:"is-active"},r.a.createElement(o.b,{to:"/info"},r.a.createElement("p",null,r.a.createElement("span",{class:"icon is-small"},r.a.createElement("i",{class:"fab fa-empire"})),r.a.createElement("span",null,"Fees & Info")))),r.a.createElement("li",{"data-target":"pane-3",id:"3"},r.a.createElement("a",null,r.a.createElement("span",{class:"icon is-small"},r.a.createElement("i",{class:"fab fa-empire"})),r.a.createElement("span",null,"FAQ")))))),r.a.createElement("div",{class:"content container",style:{width:800}},r.a.createElement("br",null),r.a.createElement("h1",null,"Seller Fees"),r.a.createElement("p",null,"Flat 1% fee for all transactions."),r.a.createElement("h1",null,"Buyer Fees"),r.a.createElement("p",null,"None. Gas fees from creating transactions on the blockchain only, usually less than 1 cent."),r.a.createElement("h1",null,"Escrow duration"),r.a.createElement("p",null,"Funds from buyer are held in escrow once transaction is created. Buyer should release funds after confirming receiving of working product."),r.a.createElement("h1",null),r.a.createElement("h1",null,"Dispute resolution"),r.a.createElement("p",null,"Buyers should raise a dispute if item has not arrived in 30 days, or did not arrive as described.",r.a.createElement("br",null),"Sellers should raise a dispute if buyer refuses to release funds after 30 days and the product is received."),r.a.createElement("br",null),"We will review evidence provided by both parties and get in touch. We may require proof of address before starting the dispute resolution process; it involves sending an empty message (or sending a 0 Ether transaction) to an address we specify.",r.a.createElement("h1",null,"Transaction process"),"For stronger protection against fradulent buyers and sellers, please involve ERCPAY in your conversations with the buyer or seller.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h4",null,"If you are communicating by email"),"CC ercpayescrow@gmail.com in all emails",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h4",null,"If you are communicating on Reddit"),"Create a group chat, and add ",r.a.createElement("a",{href:"https://www.reddit.com/user/Arrow222/",target:"_blank"},"/u/Arrow222"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h4",null,"If you are communicating on Telegram"),"Create a group chat, and @kayin1",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h4",null,"If you are communicating on other channels"),"If it has a group chat feature, let us know and we will create an account. Contact us at ercpayescrow@gmail.com",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"This allows us to get a full transcript of evidence and greatly accelerates the dispute resolution process.")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))}}]),t}(n.Component),J=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={address:""},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(window.ethereum){var t=new i.a(window.ethereum);try{window.ethereum.enable().then(function(){e.setState({address:t.eth.accounts[0]}),setInterval(function(){t.eth.accounts[0]!==e.state.address&&e.setState({address:t.eth.accounts[0]})},100)})}catch(a){}}else window.location.href="/login"}},{key:"render",value:function(){return r.a.createElement("p",null,"Profile Created",r.a.createElement("span",{class:"icon has-text-success"},r.a.createElement("i",{class:"fas fa-check-square"}))),r.a.createElement("p",null,"ERCPay Authorized",r.a.createElement("span",{class:"icon has-text-success"},r.a.createElement("i",{class:"fas fa-check-square"}))),r.a.createElement("p",null,"Signup Complete",r.a.createElement("span",{class:"icon has-text-success"},r.a.createElement("i",{class:"fas fa-check-square"}))),r.a.createElement("div",null,r.a.createElement("section",{class:"hero is-fullheight"},r.a.createElement(b,null),r.a.createElement("div",{class:"hero-body"},r.a.createElement("div",{class:"container has-text-centered"},r.a.createElement("div",{class:"column is-6 is-offset-3"},r.a.createElement("h3",{class:"title has-text-grey"},"Login"),r.a.createElement("p",{class:"subtitle has-text-grey"},"Login to access your dashboard"),r.a.createElement("div",{class:"box"},r.a.createElement("br",null),r.a.createElement("p",{className:"has-text-centered"},this.state.address),r.a.createElement("br",null),r.a.createElement(o.b,{to:"/dashboard"},r.a.createElement("button",{class:"button is-block is-info is-large is-fullwidth"},"Login"))))))))}}]),t}(n.Component),Q=a(10),K=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={ethPrice:"Loading...",address:"",ethInputText:r.a.createElement("p",{className:"help"}),currency:"eth",modal:"",ethAmount:0,usdAmount:0,sellerAddress:"",addressInputText:r.a.createElement("p",{className:"help"}),name:"",info:"",url:""},a.loadProfileInfo=a.loadProfileInfo.bind(Object(Q.a)(Object(Q.a)(a))),a.LoadEthPrice=a.LoadEthPrice.bind(Object(Q.a)(Object(Q.a)(a))),a.updateAmountInputText=a.updateAmountInputText.bind(Object(Q.a)(Object(Q.a)(a))),a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(window.ethereum){var t=new i.a(window.ethereum);try{window.ethereum.enable().then(function(){t.eth.contract(g.a.abi).at(g.a.address);var a=t.eth.contract(g.a.profile_abi).at(g.a.profile_address);e.setState({address:t.eth.accounts[0],profile_contract:a}),setInterval(function(){t.eth.accounts[0]!==e.state.address&&window.location.reload()},100)})}catch(a){}}else window.location.href="/login";this.LoadEthPrice()}},{key:"LoadEthPrice",value:function(){var e=this;fetch("https://api.gemini.com/v1/book/ethusd?limit_bids=1&limit_asks=1").then(function(e){return e.json()}).then(function(t){var a=Math.round((parseFloat(t.bids[0].price)+parseFloat(t.asks[0].price))/2*100)/100;e.setState({ethPrice:a})}).catch(function(e){return console.error(e)})}},{key:"updateAmountInputText",value:function(){var e=document.getElementById("amount").value;if(this.checkAmountInputText())if("eth"===this.state.currency)this.setState({ethInputText:r.a.createElement("p",{className:"help"},e," ETH = US$ ",Math.round(e*this.state.ethPrice*100)/100),ethAmount:parseFloat(e)});else if("usd"===this.state.currency){var t=Math.round(e/this.state.ethPrice*1e7)/1e7;this.setState({usdAmount:e,ethInputText:r.a.createElement("p",{className:"help"},t," ETH = US$ ",e),ethAmount:parseFloat(t)})}}},{key:"checkAmountInputText",value:function(){var e=document.getElementById("amount").value;return String(parseFloat(e))===e&&String(parseFloat(e))>0}},{key:"activateModal",value:function(){if(!1!==this.checkAmountInputText())if(console.log(this.state.name),"Unregistered User"!==this.state.name){var e="eth"===this.state.currency?this.state.ethAmount:this.state.usdAmount;this.setState({url:"".concat(window.location.protocol,"//").concat(window.location.hostname,"/activity/send_payment/").concat(this.state.address,"/").concat(this.state.currency,"/").concat(e)})}else this.setState({addressInputText:r.a.createElement("p",{className:"help is-danger"},"Address is not registered. Please ask seller to set profile name.")});else this.setState({ethInputText:r.a.createElement("p",{className:"help is-danger"},"Input should be a positive number")})}},{key:"loadProfileInfo",value:function(){var e=this,t=new i.a(window.ethereum),a=t.eth.accounts[0];if(!1===t.isAddress(a))return console.log("address invalid"),void this.setState({addressInputText:r.a.createElement("p",{className:"help is-danger"},"Invalid ETH address")});this.state.profile_contract.getProfileLength.call(a,function(t,n){console.log("Length of profile info ".concat(n)),console.log("".concat(a)),0!==parseInt(n)?e.state.profile_contract.ProfileDB.call(a,n-1,function(t,n){e.setState({name:n[0],info:n[1],sellerAddress:a,addressInputText:r.a.createElement("p",{className:"help is-info"},"Seller name: ",n[0])})}):e.setState({name:"Unregistered User",info:"",addressInputText:r.a.createElement("p",{className:"help is-danger"},"Unregistered User. Please ",r.a.createElement(o.b,{to:"/activity/set_profile"},"set your profile")," before sending payment.")})})}},{key:"render",value:function(){var e=this;"/profile/".concat(this.state.sellerAddress);return r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement("div",{className:"modal ".concat(this.state.modal)},r.a.createElement("div",{className:"modal-background",onClick:function(){return e.setState({modal:""})}}),r.a.createElement("div",{className:"modal-content"},r.a.createElement(X,{address:this.state.address,ethAmount:this.state.ethAmount,sellerAddress:this.state.sellerAddress})),r.a.createElement("button",{className:"modal-close is-large",onClick:function(){return e.setState({modal:""})}})),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container",style:{width:790}},r.a.createElement("a",{className:"has-text-left",onClick:function(){return window.history.back()}},"\u2190 Back")),r.a.createElement("br",null),r.a.createElement("div",{className:"container box",style:{width:800}},r.a.createElement("nav",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"Create Invoice"))),r.a.createElement("div",{className:"level-right"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"1 ETH = US$ ",this.state.ethPrice)))),r.a.createElement("hr",null),r.a.createElement("label",{className:"label"},"Payment Amount"),r.a.createElement("div",{className:"field has-addons"},r.a.createElement("div",{className:"control"},r.a.createElement("span",{className:"select"},r.a.createElement("select",{id:"currency",name:"currency",onChange:function(){e.setState({currency:document.getElementById("currency").value,ethInputText:r.a.createElement("p",{className:"help"})}),document.getElementById("amount").value=""}},r.a.createElement("option",{value:"eth"},"ETH"),r.a.createElement("option",{value:"usd"},"USD")))),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Amount",id:"amount",onChange:this.updateAmountInputText}))),this.state.ethInputText,r.a.createElement("p",{className:"help"},"For invoice in USD, buyer will pay equivalent amount in ETH at conversion rate at time of payment."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"buttons is-centered"},r.a.createElement("p",{className:"button is-primary",onClick:function(){return e.activateModal()}},r.a.createElement("span",null,"Generate Invoice Link"))),r.a.createElement("p",{className:"has-text-centered"},this.state.url))))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={buyerTxCount:"",sellerTxCount:"",escrowTxCount:"",buyerName:"",sellerName:"",escrowName:"",txt:"Confirm and Send payment"},a.loadProfileName=a.loadProfileName.bind(Object(Q.a)(Object(Q.a)(a))),a.loadCount=a.loadCount.bind(Object(Q.a)(Object(Q.a)(a))),a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(console.log(this.props.sellerAddress),window.ethereum){var t=new i.a(window.ethereum);try{window.ethereum.enable().then(function(){var a=t.eth.contract(g.a.abi).at(g.a.address),n=t.eth.contract(g.a.profile_abi).at(g.a.profile_address);e.setState({contract:a,profile_contract:n}),e.loadProfileName("buyer",t.eth.accounts[0]),e.loadProfileName("seller",e.props.sellerAddress),e.loadProfileName("escrow",g.a.escrowAddress),e.loadCount(t.eth.accounts[0],e.props.sellerAddress,g.a.escrowAddress)})}catch(a){}}else window.location.href="/login"}},{key:"componentWillReceiveProps",value:function(){this.loadProfileName("seller",this.props.sellerAddress)}},{key:"SendPayment",value:function(){var e=this;this.state.contract.createPayment.sendTransaction(this.props.sellerAddress,g.a.escrowAddress,"",{from:this.props.address,value:this.props.ethAmount*Math.pow(10,18),gas:35e4},function(t,a){console.log(a),e.setState({txt:"Payment Sent"}),setInterval(function(){window.location.href="/dashboard"},500)})}},{key:"loadProfileName",value:function(e,t){var a=this;this.state.profile_contract.getProfileLength.call(t,function(n,r){0!==parseInt(r)&&(console.log("bb"),a.state.profile_contract.ProfileDB.call(t,r-1,function(t,n){switch(e){case"buyer":a.setState({buyerName:n});break;case"seller":a.setState({sellerName:n});break;case"escrow":a.setState({escrowName:n})}}))})}},{key:"loadCount",value:function(e,t,a){var n=this;this.state.contract.getCustomerLedgerLength.call(e,function(e,t){n.setState({buyerTxCount:parseInt(t)})}),this.state.contract.getMerchantLedgerLength.call(t,function(e,t){n.setState({sellerTxCount:parseInt(t)})}),this.state.contract.getEscrowLedgerLength.call(a,function(e,t){n.setState({escrowTxCount:parseInt(t)})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{className:"container box",style:{width:850}},r.a.createElement("nav",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"Confirm Payment"))),r.a.createElement("div",{className:"level-right"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null)))),r.a.createElement("hr",null),r.a.createElement("p",{className:"has-text-centered is-size-4"},"You are sending"),r.a.createElement("br",null),r.a.createElement("p",{className:"has-text-centered is-size-3"},this.props.ethAmount," ETH"),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column has-text-left"},r.a.createElement("b",null,"Payment from"),r.a.createElement("p",null,this.state.buyerName[0]),r.a.createElement("p",{className:"is-size-7"},this.props.address," (You)")),r.a.createElement("div",{className:"column is-narrow"},r.a.createElement("br",null),r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-arrow-right"}))),r.a.createElement("div",{className:"column has-text-right"},r.a.createElement("b",null,"Payment to"),r.a.createElement("p",null,this.state.sellerName[0]),r.a.createElement("p",{className:"is-size-7"},this.props.sellerAddress),r.a.createElement("p",null))),r.a.createElement("div",{className:"has-text-centered"},r.a.createElement("b",null,"Escrowed By"),r.a.createElement("p",null,"ERCPAY")),r.a.createElement("br",null),r.a.createElement("div",{className:"buttons is-centered"},r.a.createElement("a",{className:"button is-primary",onClick:function(){return e.SendPayment()}},r.a.createElement("span",null,this.state.txt))),r.a.createElement("hr",null),r.a.createElement("p",{className:"is-size-7"},"After payment, funds will be locked in escrow",r.a.createElement("br",null),"When your item is received, please release funds to seller in your dashboard",r.a.createElement("br",null),"If you require assistance, contact us at ercpayescrow@gmail.com")))}}]),t}(n.Component),Z=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={ethPrice:"Loading...",address:"",ethInputText:r.a.createElement("p",{className:"help"}),currency:"eth",modal:"",ethAmount:0,sellerAddress:"",addressInputText:r.a.createElement("p",{className:"help"}),name:"",info:""},a.loadProfileInfo=a.loadProfileInfo.bind(Object(Q.a)(Object(Q.a)(a))),a.LoadEthPrice=a.LoadEthPrice.bind(Object(Q.a)(Object(Q.a)(a))),a.updateAmountInputText=a.updateAmountInputText.bind(Object(Q.a)(Object(Q.a)(a))),a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(window.ethereum){var t=new i.a(window.ethereum);try{window.ethereum.enable().then(function(){t.eth.contract(g.a.abi).at(g.a.address);var a=t.eth.contract(g.a.profile_abi).at(g.a.profile_address);e.setState({address:t.eth.accounts[0],profile_contract:a}),setInterval(function(){t.eth.accounts[0]!==e.state.address&&window.location.reload()},100)})}catch(a){}}else window.location.href="/login";this.LoadEthPrice()}},{key:"LoadEthPrice",value:function(){var e=this;fetch("https://api.gemini.com/v1/book/ethusd?limit_bids=1&limit_asks=1").then(function(e){return e.json()}).then(function(t){var a=Math.round((parseFloat(t.bids[0].price)+parseFloat(t.asks[0].price))/2*100)/100;e.setState({ethPrice:a})}).catch(function(e){return console.error(e)})}},{key:"updateAmountInputText",value:function(){var e=document.getElementById("amount").value;if(this.checkAmountInputText())if("eth"===this.state.currency)this.setState({ethInputText:r.a.createElement("p",{className:"help"},e," ETH = US$ ",Math.round(e*this.state.ethPrice*100)/100),ethAmount:parseFloat(e)});else if("usd"===this.state.currency){var t=Math.round(e/this.state.ethPrice*1e7)/1e7;this.setState({ethInputText:r.a.createElement("p",{className:"help"},t," ETH = US$ ",e),ethAmount:parseFloat(t)})}}},{key:"checkAmountInputText",value:function(){var e=document.getElementById("amount").value;return String(parseFloat(e))===e&&String(parseFloat(e))>0}},{key:"activateModal",value:function(){if(!1!==this.checkAmountInputText()){var e=new i.a(window.ethereum),t=document.getElementById("selleraddress").value;if(!1===e.isAddress(t))return console.log("address invalid"),void this.setState({addressInputText:r.a.createElement("p",{className:"help is-danger"},"Invalid ETH address")});console.log(this.state.name),"Unregistered User"!==this.state.name?this.setState({modal:"is-active",sellerAddress:document.getElementById("selleraddress").value}):this.setState({addressInputText:r.a.createElement("p",{className:"help is-danger"},"Address is not registered. Please ask seller to set profile name.")})}else this.setState({ethInputText:r.a.createElement("p",{className:"help is-danger"},"Input should be a positive number")})}},{key:"loadProfileInfo",value:function(){var e=this,t=document.getElementById("selleraddress").value;if(!1===new i.a(window.ethereum).isAddress(t))return console.log("address invalid"),void this.setState({addressInputText:r.a.createElement("p",{className:"help is-danger"},"Invalid ETH address")});this.state.profile_contract.getProfileLength.call(t,function(a,n){console.log("Length of profile info ".concat(n)),console.log("".concat(t)),0!==parseInt(n)?e.state.profile_contract.ProfileDB.call(t,n-1,function(a,n){e.setState({name:n[0],info:n[1],sellerAddress:t,addressInputText:r.a.createElement("p",{className:"help is-info"},"Seller name: ",n[0])})}):e.setState({name:"Unregistered User",info:"",addressInputText:r.a.createElement("p",{className:"help is-danger"},"Unregistered User. Please ask seller to register before sending payment.")})})}},{key:"render",value:function(){var e=this,t="/profile/".concat(this.state.sellerAddress);return r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement("div",{className:"modal ".concat(this.state.modal)},r.a.createElement("div",{className:"modal-background",onClick:function(){return e.setState({modal:""})}}),r.a.createElement("div",{className:"modal-content"},r.a.createElement(ee,{address:this.state.address,ethAmount:this.state.ethAmount,sellerAddress:this.state.sellerAddress})),r.a.createElement("button",{className:"modal-close is-large",onClick:function(){return e.setState({modal:""})}})),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container",style:{width:790}},r.a.createElement("a",{className:"has-text-left",onClick:function(){return window.history.back()}},"\u2190 Back")),r.a.createElement("br",null),r.a.createElement("div",{className:"container box",style:{width:800}},r.a.createElement("nav",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"Send ETH Payment"))),r.a.createElement("div",{className:"level-right"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"1 ETH = US$ ",this.state.ethPrice)))),r.a.createElement("hr",null),r.a.createElement("label",{className:"label"},"Payment Amount"),r.a.createElement("div",{className:"field has-addons"},r.a.createElement("div",{className:"control"},r.a.createElement("span",{className:"select"},r.a.createElement("select",{id:"currency",name:"currency",onChange:function(){e.setState({currency:document.getElementById("currency").value,ethInputText:r.a.createElement("p",{className:"help"})}),document.getElementById("amount").value=""}},r.a.createElement("option",{value:"eth"},"ETH"),r.a.createElement("option",{value:"usd"},"USD")))),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Amount",id:"amount",onChange:this.updateAmountInputText}))),this.state.ethInputText,r.a.createElement("br",null),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Pay To Address"),r.a.createElement("div",{className:"control has-icons-left has-icons-right",style:{width:500}},r.a.createElement("input",{className:"input",type:"text",placeholder:"0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359",id:"selleraddress",onChange:function(){return e.loadProfileInfo()}}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-user"}))),this.state.addressInputText,r.a.createElement("br",null),r.a.createElement(o.b,{to:t,target:"_blank"},r.a.createElement("p",{className:"button is-primary is-small"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"far fa-user"})),r.a.createElement("span",null,"View Seller's Profile")))),r.a.createElement("br",null),r.a.createElement("div",{className:"buttons is-centered"},r.a.createElement("p",{className:"button is-primary",onClick:function(){return e.activateModal()}},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"far fa-user"})),r.a.createElement("span",null,"Next"))),r.a.createElement("p",{className:"has-text-centered is-size-7"},"You will be asked to confirm your payment on the next page"))))}}]),t}(n.Component),ee=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={buyerTxCount:"",sellerTxCount:"",escrowTxCount:"",buyerName:"",sellerName:"",escrowName:"",txt:"Confirm and Send payment"},a.loadProfileName=a.loadProfileName.bind(Object(Q.a)(Object(Q.a)(a))),a.loadCount=a.loadCount.bind(Object(Q.a)(Object(Q.a)(a))),a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(console.log(this.props.sellerAddress),window.ethereum){var t=new i.a(window.ethereum);try{window.ethereum.enable().then(function(){var a=t.eth.contract(g.a.abi).at(g.a.address),n=t.eth.contract(g.a.profile_abi).at(g.a.profile_address);e.setState({contract:a,profile_contract:n}),e.loadProfileName("buyer",t.eth.accounts[0]),e.loadProfileName("seller",e.props.sellerAddress),e.loadProfileName("escrow",g.a.escrowAddress),e.loadCount(t.eth.accounts[0],e.props.sellerAddress,g.a.escrowAddress)})}catch(a){}}else window.location.href="/login"}},{key:"componentWillReceiveProps",value:function(){this.loadProfileName("seller",this.props.sellerAddress)}},{key:"SendPayment",value:function(){var e=this;this.state.contract.createPayment.sendTransaction(this.props.sellerAddress,g.a.escrowAddress,"",{from:this.props.address,value:this.props.ethAmount*Math.pow(10,18),gas:35e4},function(t,a){console.log(a),e.setState({txt:"Payment Sent"}),setInterval(function(){window.location.href="/dashboard"},500)})}},{key:"loadProfileName",value:function(e,t){var a=this;this.state.profile_contract.getProfileLength.call(t,function(n,r){0!==parseInt(r)&&(console.log("bb"),a.state.profile_contract.ProfileDB.call(t,r-1,function(t,n){switch(e){case"buyer":a.setState({buyerName:n});break;case"seller":a.setState({sellerName:n});break;case"escrow":a.setState({escrowName:n})}}))})}},{key:"loadCount",value:function(e,t,a){var n=this;this.state.contract.getCustomerLedgerLength.call(e,function(e,t){n.setState({buyerTxCount:parseInt(t)})}),this.state.contract.getMerchantLedgerLength.call(t,function(e,t){n.setState({sellerTxCount:parseInt(t)})}),this.state.contract.getEscrowLedgerLength.call(a,function(e,t){n.setState({escrowTxCount:parseInt(t)})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{className:"container box",style:{width:850}},r.a.createElement("nav",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"Confirm Payment"))),r.a.createElement("div",{className:"level-right"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null)))),r.a.createElement("hr",null),r.a.createElement("p",{className:"has-text-centered is-size-4"},"You are sending"),r.a.createElement("br",null),r.a.createElement("p",{className:"has-text-centered is-size-3"},this.props.ethAmount," ETH"),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column has-text-left"},r.a.createElement("b",null,"Payment from"),r.a.createElement("p",null,this.state.buyerName[0]),r.a.createElement("p",{className:"is-size-7"},this.props.address," (You)")),r.a.createElement("div",{className:"column is-narrow"},r.a.createElement("br",null),r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-arrow-right"}))),r.a.createElement("div",{className:"column has-text-right"},r.a.createElement("b",null,"Payment to"),r.a.createElement("p",null,this.state.sellerName[0]),r.a.createElement("p",{className:"is-size-7"},this.props.sellerAddress),r.a.createElement("p",null))),r.a.createElement("div",{className:"has-text-centered"},r.a.createElement("b",null,"Escrowed By"),r.a.createElement("p",null,"ERCPAY")),r.a.createElement("br",null),r.a.createElement("div",{className:"buttons is-centered"},r.a.createElement("a",{className:"button is-primary",onClick:function(){return e.SendPayment()}},r.a.createElement("span",null,this.state.txt))),r.a.createElement("hr",null),r.a.createElement("p",{className:"is-size-7"},"After payment, funds will be locked in escrow",r.a.createElement("br",null),"When your item is received, please release funds to seller in your dashboard",r.a.createElement("br",null),"If you require assistance, contact us at ercpayescrow@gmail.com")))}}]),t}(n.Component),te=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={address:""},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(window.ethereum){var t=new i.a(window.ethereum);try{window.ethereum.enable().then(function(){var a=t.eth.contract(g.a.abi).at(g.a.address);e.setState({address:t.eth.accounts[0],contract:a}),setInterval(function(){t.eth.accounts[0]!==e.state.address&&window.location.reload()},100)})}catch(a){}}else window.location.href="/login"}},{key:"SendPayment",value:function(){this.state.contract.createPayment.sendTransaction("0xd1478591d243e1703b3203b366afC8af335DBf67","0xa20b04647F5A0099E71Cf4AFE5c7eCFb2EA86f45","",{from:this.state.address,value:.01*Math.pow(10,18)},function(e,t){console.log(t)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container",style:{width:790}},r.a.createElement("a",{className:"has-text-left",onClick:function(){return window.history.back()}},"\u2190 Back")),r.a.createElement("br",null),r.a.createElement("div",{className:"container box",style:{width:800}},r.a.createElement("nav",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"Confirm Payment"))),r.a.createElement("div",{className:"level-right"},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null)))),r.a.createElement("hr",null),r.a.createElement("p",{className:"has-text-centered is-size-4"},"You are sending"),r.a.createElement("br",null),r.a.createElement("p",{className:"has-text-centered is-size-3"},"217.50 DAI"),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column has-text-left"},r.a.createElement("b",null,"Payment from"),r.a.createElement("p",null,"userrr"),r.a.createElement("p",null,"88 completed payments")),r.a.createElement("div",{className:"column is-narrow"},r.a.createElement("br",null),r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-arrow-right"}))),r.a.createElement("div",{className:"column has-text-right"},r.a.createElement("b",null,"Payment to"),r.a.createElement("p",null,"userrr"),r.a.createElement("p",null,"57 completed transactions"))),r.a.createElement("div",{className:"has-text-centered"},r.a.createElement("b",null,"Escrowed By"),r.a.createElement("p",null,"ERCPAY"),r.a.createElement("p",null,"1385 transactions escrowed")),r.a.createElement("br",null),r.a.createElement("div",{className:"buttons is-centered"},r.a.createElement("a",{className:"button is-primary",onClick:function(){return e.SendPayment()}},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"far fa-user"})),r.a.createElement("span",null,"Confirm and Send payment"))))))}}]),t}(n.Component),ae=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={address:"",name:"",info:"",totalPurchaseComplete:0,totalPurchaseEth:0,totalPurchaseInEscrow:0,totalPurchaseInEscrowEth:0,totalSalesEth:0,totalSalesComplete:0,totalSalesInEscrow:0,totalSalesInEscrowEth:0,customerLedgerLength:0,customerLedger:[],merchantLedgerLength:0,merchantLedger:[]},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.address;if(this.setState({address:this.props.match.params.address}),window.ethereum){var a=new i.a(window.ethereum);try{window.ethereum.enable().then(function(){var n=a.eth.contract(g.a.abi).at(g.a.address),r=a.eth.contract(g.a.profile_abi).at(g.a.profile_address);e.setState({contract:n,profile_contract:r}),e.loadProfileInfo(),n.getCustomerLedgerLength.call(t,function(a,r){e.setState({customerLedgerLength:parseInt(r)});for(var s=0;s<e.state.customerLedgerLength;s++)n.CustomerLedger.call(t,s,function(t,a){n.getTransaction.call(a,function(t,n){var r=x.returnTxMap(a,n),s=e.state.customerLedger;if(s.push(r),e.setState({customerLedger:s}),s.length===e.state.customerLedgerLength){for(var l=0,c=0,i=0,o=0,m=0;m<e.state.customerLedgerLength;m++)e.state.customerLedger[m].status===x.status()[0]||e.state.customerLedger[m].status===x.status()[3]?(o++,i+=e.state.customerLedger[m].value):(c++,l+=e.state.customerLedger[m].value);e.setState({totalPurchaseEth:l,totalPurchaseComplete:c,totalPurchaseInEscrowEth:i,totalPurchaseInEscrow:o})}})})}),n.getMerchantLedgerLength.call(t,function(a,r){e.setState({merchantLedgerLength:parseInt(r)});for(var s=0;s<e.state.merchantLedgerLength;s++)n.MerchantLedger.call(t,s,function(t,a){n.getTransaction.call(a,function(t,n){var r=x.returnTxMap(a,n),s=e.state.merchantLedger;if(s.push(r),e.setState({merchantLedger:s}),s.length===e.state.merchantLedgerLength){for(var l=0,c=0,i=0,o=0,m=0;m<e.state.merchantLedgerLength;m++)e.state.merchantLedger[m].status===x.status()[0]||e.state.merchantLedger[m].status===x.status()[3]?(o++,i+=e.state.merchantLedger[m].value):(c++,l+=e.state.merchantLedger[m].value);e.setState({totalSalesEth:l,totalSalesComplete:c,totalSalesInEscrowEth:i,totalSalesInEscrow:o})}})})})})}catch(n){}}else window.location.href="/login"}},{key:"loadProfileInfo",value:function(){var e=this;this.state.profile_contract.getProfileLength.call(this.state.address,function(t,a){0===parseInt(a)?e.setState({name:"",info:""}):e.state.profile_contract.ProfileDB.call(e.state.address,a-1,function(t,a){e.setState({name:a[0],info:a[1]})})})}},{key:"render",value:function(){var e=this.state.name,t=this.state.info;return r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container",style:{width:790}},r.a.createElement("a",{className:"has-text-left",onClick:function(){return window.history.back()}},"\u2190 Back")),r.a.createElement("br",null),r.a.createElement("div",{className:"container box",style:{width:800}},r.a.createElement("p",{className:"has-text-centered is-size-3"},e,"'s profile"),r.a.createElement("p",{className:"has-text-centered"},"Joined 20/2/2019"),r.a.createElement("br",null),r.a.createElement("p",{className:"has-text-centered"},t),r.a.createElement("hr",null),r.a.createElement("p",{className:"has-text-centered"},"Lifetime transactions"),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column has-text-left"},r.a.createElement("b",null,"Buyer History"),r.a.createElement("p",null,"Total ETH spent: ",this.state.totalPurchaseEth," ETH"),r.a.createElement("p",null,"Transactions Completed: ",this.state.totalPurchaseComplete)),r.a.createElement("div",{className:"column is-narrow"},r.a.createElement("br",null)),r.a.createElement("div",{className:"column has-text-right"},r.a.createElement("b",null,"Seller History"),r.a.createElement("p",null,"Total ETH received: ",this.state.totalSalesEth," ETH"),r.a.createElement("p",null,"Transactions Completed: ",this.state.totalSalesComplete))),r.a.createElement("hr",null),r.a.createElement("p",{className:"has-text-centered"},"Current in escrow transactions"),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column has-text-left"},r.a.createElement("b",null,"Buyer"),r.a.createElement("p",null,"Amount unreleased: ",this.state.totalPurchaseInEscrowEth," ETH"),r.a.createElement("p",null,"Transactions In Escrow: ",this.state.totalPurchaseInEscrow)),r.a.createElement("div",{className:"column is-narrow"},r.a.createElement("br",null)),r.a.createElement("div",{className:"column has-text-right"},r.a.createElement("b",null,"Seller"),r.a.createElement("p",null,"Amount receivable: ",this.state.totalSalesInEscrowEth," ETH"),r.a.createElement("p",null,"Transactions in Escrow: ",this.state.totalSalesInEscrow))))))}}]),t}(n.Component),ne=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement("br",null),r.a.createElement("div",{className:"container",style:{width:800}},r.a.createElement("h1",{className:"is-size-3 has-text-centered"},"Setup ERCPay Profile")),r.a.createElement("br",null),r.a.createElement(re,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"has-text-centered"},r.a.createElement(o.b,{to:"/dashboard"},r.a.createElement("p",{className:"button is-primary"},"Back to Dashboard")),r.a.createElement("br",null),r.a.createElement("br",null)))}}]),t}(n.Component),re=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={address:""},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(window.ethereum){var t=new i.a(window.ethereum);try{window.ethereum.enable().then(function(){var a=t.eth.contract(g.a.profile_abi).at(g.a.profile_address),n=t.eth.contract(g.a.profile_abi).at(g.a.profile_address);e.setState({address:t.eth.accounts[0],contract:a,profile_contract:n}),setInterval(function(){t.eth.accounts[0]!==e.state.address&&window.location.reload()},100)})}catch(a){}}else this.props.history.push("/login")}},{key:"SetProfile",value:function(){var e=document.getElementById("nameinput").value,t=document.getElementById("infoinput").value;this.state.profile_contract.SetProfile.sendTransaction(e,t,{from:this.state.address,gas:35e4},function(e,t){console.log(t)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"container box",style:{width:800}},r.a.createElement("div",{className:"has-text-centered"},r.a.createElement("b",null,"Setup")),r.a.createElement("br",null),r.a.createElement("p",null,"Add name and information to your ERCPay profile for customers and sellers to identify you."),r.a.createElement("br",null),r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{className:"label"},"Your address")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control"},r.a.createElement("input",{className:"input is-static",type:"email",value:this.state.address,readOnly:!0}))))),r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{className:"label"},"Name")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control"},r.a.createElement("input",{className:"input",type:"text",placeholder:"*Required",id:"nameinput"}))))),r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{className:"label"},"Info")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control"},r.a.createElement("textarea",{className:"textarea",id:"infoinput",placeholder:"Optional. Place contact information here, such as a link to your forum profile or Telegram contact."}))))),r.a.createElement("br",null),r.a.createElement("div",{className:"has-text-centered"},r.a.createElement("button",{className:"button is-primary",onClick:function(){return e.SetProfile()}},"Update Profile"))))}}]),t}(n.Component);n.Component;l.a.render(r.a.createElement(o.a,null,r.a.createElement(m.a,{path:"/",exact:!0,component:z}),r.a.createElement(m.a,{path:"/dashboard",exact:!0,component:T}),r.a.createElement(m.a,{path:"/info",exact:!0,component:$}),r.a.createElement(m.a,{path:"/faq",exact:!0,component:G}),r.a.createElement(m.a,{path:"/login",exact:!0,component:J}),r.a.createElement(m.a,{path:"/activity/transaction/:type/:id",exact:!0,component:A}),r.a.createElement(m.a,{path:"/activity/create_invoice/:address",exact:!0,component:K}),r.a.createElement(m.a,{path:"/activity/send_payment",exact:!0,component:Z}),r.a.createElement(m.a,{path:"/activity/send_payment/:address/:currency/:amount",exact:!0,component:Z}),r.a.createElement(m.a,{path:"/activity/confirm_payment",exact:!0,component:te}),r.a.createElement(m.a,{path:"/activity/set_profile",exact:!0,component:ne}),r.a.createElement(m.a,{path:"/profile/:address",exact:!0,component:ae})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},55:function(e,t,a){},78:function(e,t,a){e.exports=a(175)}},[[78,1,2]]]);